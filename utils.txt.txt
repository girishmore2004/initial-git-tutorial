utility function for version 1